load("//shared/bazel/rules:cc_rules.bzl", "wpilib_shared_and_static_library")
load("//shared/bazel/rules:packaging.bzl", "package_default_cc_shared_static_only_project")

wpilib_shared_and_static_library(
    name = "googletest",
    srcs = glob(["src/**"]),
    hdrs = glob(["include/**"]),
    hdrs_pkg_root = "include",
    include_license_files = True,
    includes = ["src/googletest"],
    srcs_pkg_root = "src",
    strip_include_prefix = "include",
    visibility = ["//visibility:public"],
    # static_lib_name = select({
    #     "@bazel_tools//src/conditions:windows": "static/googletest.lib",
    #     "//conditions:default": "static/libgoogletest.a",
    # }),
)

package_default_cc_shared_static_only_project(
    name = "googletest",
    maven_artifact_name = "googletest-cpp",
    maven_group_id = "edu.wpi.first.thirdparty.googletest",
)
